(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var b=i;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0037":function(e,t,n){},"0819":function(e,t,n){"use strict";n("bec8")},1:function(e,t,n){e.exports=n("56d7")},"19b2":function(e,t,n){"use strict";n("0037")},2:function(e,t){},3:function(e,t){},"3e74":function(e,t,n){"use strict";n("58fb")},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"app"},a=Object(r["g"])("div",{class:"app-title"},[Object(r["g"])("div",{class:"layout"},[Object(r["g"])("h1",null,[Object(r["h"])(" Try it out dapp > "),Object(r["g"])("a",{href:"https://robonomics.academy/",target:"_blank"},"Online Robonomics school 2022")])])],-1);function o(e,t,n,o,s,i){var u=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["f"])("div",c,[a,Object(r["i"])(u)])}var s=n("1da1"),i=(n("96cf"),n("fe43")),u=n.n(i),b=n("e79d"),l=n("0b67"),d={endpoint:"wss://kusama.rpc.robonomics.network/",isDevelopmentAccounts:!1,subscription:"4GgRRojuoQwKCZP9wkB69ZxJY4JprmHtpzEzqJLjnqu4jk1r",stream:"https://www.youtube.com/embed/live_stream?channel=UCkemsNJWaCmvF1Oi50C-hAg&autoplay=1&mute=1&controls=0",discord:"https://discord.com/invite/5UWNGNaAUf"},f=new b["Robonomics"]({endpoint:d.endpoint});f.setAccountManager(new u.a(l["a"]));var p=f,j={name:"App",created:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.run();case 2:return e.next=4,u.a.initPlugin(p.accountManager.keyring,{isDevelopment:d.isDevelopmentAccounts});case 4:case"end":return e.stop()}}),e)})))()}},O=(n("3e74"),n("6b0d")),h=n.n(O);const g=h()(j,[["render",o]]);var m=g,v=n("6c02"),y={class:"dark"},k={class:"layout"},w=Object(r["g"])("h2",{class:"text-typing"},"Welcome to black mirror",-1),x=Object(r["g"])("p",{class:"animate-show-up animate-show-up-1"}," This decentralized application made for students of Robonomics winter school 2022. It shows you that decentralized cloud over blockchain already works. ",-1),R=Object(r["g"])("li",{class:"animate-show-up animate-show-up-2"},[Object(r["h"])(" Create or activate your Polkadot account in "),Object(r["g"])("a",{href:"https://polkadot.js.org/extension/",target:"_blank"},"Polkadot.js extension")],-1),_={class:"animate-show-up animate-show-up-3"},A=Object(r["h"])(" Ask "),S=["href"],M=Object(r["h"])(" to add your account to the Learning Winter School 2022 subscription. "),T=Object(r["g"])("li",{class:"animate-show-up animate-show-up-4"}," Type here your text message, sign and send it to our retro TV ",-1),P={class:"animate-show-up animate-show-up-5"},C=Object(r["h"])(" Make sure your transaction with datalog succesfully "),L=Object(r["h"])("sent"),I=Object(r["g"])("li",{class:"animate-show-up animate-show-up-6"}," Watch QR, it should change ",-1),U={class:"layout"},D={key:1};function J(e,t,n,c,a,o){var s=Object(r["y"])("Video"),i=Object(r["y"])("router-link"),u=Object(r["y"])("Account"),b=Object(r["y"])("Sender");return Object(r["r"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("section",y,[Object(r["g"])("div",k,[Object(r["i"])(s,{class:"block"}),w,x,Object(r["g"])("ol",null,[R,Object(r["g"])("li",_,[A,Object(r["g"])("a",{href:a.discord,target:"_blank"},"in Discord",8,S),M]),T,Object(r["g"])("li",P,[C,Object(r["i"])(i,{to:{name:"users"},target:"_blank"},{default:Object(r["F"])((function(){return[L]})),_:1})]),I])])]),Object(r["g"])("section",null,[Object(r["g"])("div",U,[a.isReady?(Object(r["r"])(),Object(r["f"])(r["a"],{key:0},[Object(r["i"])(u,{class:"block"}),Object(r["i"])(b)],64)):(Object(r["r"])(),Object(r["f"])("div",D,"..."))])])],64)}var V={class:"videoWrapper"},W=["src"];function N(e,t,n,c,a,o){return Object(r["r"])(),Object(r["f"])("div",V,[Object(r["g"])("iframe",{width:"100%",height:"450",src:a.src,title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,8,W)])}var Y={data:function(){return{src:d.stream}}};n("b7cc");const F=h()(Y,[["render",N],["__scopeId","data-v-117aa392"]]);var z=F,G=(n("b0c0"),function(e){return Object(r["u"])("data-v-0b248dd0"),e=e(),Object(r["s"])(),e}),q={style:{"margin-bottom":"0"}},E=G((function(){return Object(r["g"])("h3",null,"1. Your account",-1)})),H=G((function(){return Object(r["g"])("p",null,[Object(r["g"])("i",null,"[Robonomics parachain format]")],-1)})),B=["value"],Q={key:1},Z={class:"account"},K=G((function(){return Object(r["g"])("br",null,null,-1)})),$=G((function(){return Object(r["g"])("span",{class:"copy"},"Copy address",-1)})),X=G((function(){return Object(r["g"])("span",{class:"copied"},"Address copied!",-1)})),ee=[$,X],te={key:2},ne=Object(r["h"])(" Create or activate your account in "),re=G((function(){return Object(r["g"])("a",{href:"https://polkadot.js.org/extension/",target:"_blank"},"Polkadot.js extension",-1)})),ce=[ne,re];function ae(e,t,n,c,a,o){return Object(r["r"])(),Object(r["f"])("section",q,[E,H,Object(r["g"])("section",null,[a.accounts.length>1?Object(r["G"])((Object(r["r"])(),Object(r["f"])("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.account=e})},[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.accounts,(function(e,t){return Object(r["r"])(),Object(r["f"])("option",{key:t,value:e.address},Object(r["A"])(e.meta.isTesting?"dev":"")+" "+Object(r["A"])(e.meta.name),9,B)})),128))],512)),[[r["C"],a.account]]):Object(r["e"])("",!0),a.accounts.length>0?(Object(r["r"])(),Object(r["f"])("p",Q,[Object(r["g"])("b",Z,Object(r["A"])(a.account),1),K,Object(r["g"])("a",{class:"copyLink",href:"javascript:;",onClick:t[1]||(t[1]=Object(r["H"])((function(e){return o.clipboard(a.account,e)}),["prevent"]))},ee)])):Object(r["e"])("",!0),0===a.accounts.length?(Object(r["r"])(),Object(r["f"])("p",te,ce)):Object(r["e"])("",!0)])])}n("d81d"),n("d3b7"),n("25f0"),n("caad"),n("2532");var oe={data:function(){return{account:null,accounts:[],devices:[]}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.rws.getDevices(d.subscription);case 2:n=t.sent,n.isEmpty||(e.devices=n.toArray().map((function(e){return e.toString()}))),p.accountManager.onReady((function(){e.accounts=p.accountManager.getAccounts(),e.accounts.length&&(e.account=e.accounts[0].address)}));case 5:case"end":return t.stop()}}),t)})))()},computed:{isRws:function(){return!!this.devices.includes(this.account)}},watch:{account:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.accountManager.selectAccountByAddress(e);case 2:case"end":return t.stop()}}),t)})))()},isRws:function(){this.isRws?p.accountManager.useSubscription(d.subscription):p.accountManager.useSubscription(!1)}},methods:{clipboard:function(e,t){navigator.clipboard.writeText(e).then((function(){t.target.closest("a").classList.add("on"),setTimeout((function(){t.target.closest("a").classList.remove("on")}),5e3)}))}}};n("19b2");const se=h()(oe,[["render",ae],["__scopeId","data-v-0b248dd0"]]);var ie=se,ue=function(e){return Object(r["u"])("data-v-0ef99453"),e=e(),Object(r["s"])(),e},be=ue((function(){return Object(r["g"])("h3",null,"2. Your message to the device",-1)})),le=ue((function(){return Object(r["g"])("p",null,[Object(r["g"])("i",null,"[Test Robonomics IoT subscription: type here your text, send and view it on device]")],-1)})),de={key:0,class:"msg"},fe=ue((function(){return Object(r["g"])("h4",null,"Your message has been sent",-1)})),pe=["href"],je=Object(r["h"])("View list of succesfully written accounts"),Oe={key:1};function he(e,t,n,c,a,o){var s=Object(r["y"])("Form"),i=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["f"])("div",null,[be,le,Object(r["i"])(s,{onSubmit:o.send,loader:a.loader},null,8,["onSubmit","loader"]),a.result?(Object(r["r"])(),Object(r["f"])("div",de,[fe,Object(r["g"])("ol",null,[Object(r["g"])("li",null,[Object(r["g"])("a",{href:"https://robonomics.subscan.io/extrinsic/".concat(a.result),target:"_blank"},"View tx explorer",8,pe)]),Object(r["g"])("li",null,[Object(r["i"])(i,{to:{name:"users"},target:"_blank"},{default:Object(r["F"])((function(){return[je]})),_:1})])])])):Object(r["e"])("",!0),a.error?(Object(r["r"])(),Object(r["f"])("div",Oe,Object(r["A"])(a.error),1)):Object(r["e"])("",!0)])}n("e9c4"),n("99af");var ge={key:0,disabled:""},me=["disabled"],ve={key:2,class:"error"},ye={key:3,class:"tip"},ke=Object(r["h"])(" You need IoT subscription for transaction fee. Ask in "),we=["href"],xe=Object(r["h"])(" to add your account to the Learning Winter School 2022 subscription. ");function Re(e,t,n,c,a,o){return Object(r["r"])(),Object(r["f"])("section",null,[Object(r["G"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.text=e}),placeholder:"Type your message here, 50 characters max",required:"",maxlength:"50"},null,512),[[r["D"],a.text]]),n.loader?(Object(r["r"])(),Object(r["f"])("button",ge,"...")):(Object(r["r"])(),Object(r["f"])("button",{key:1,onClick:t[1]||(t[1]=function(){return o.submit&&o.submit.apply(o,arguments)}),disabled:!a.isSubscription||a.error}," Sign and send ",8,me)),a.error?(Object(r["r"])(),Object(r["f"])("div",ve,Object(r["A"])(a.error),1)):Object(r["e"])("",!0),a.isSubscription?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("div",ye,[ke,Object(r["g"])("a",{href:a.discord,target:"_blank"},"Discord",8,we),xe]))])}var _e={props:["loader"],data:function(){return{text:"",isSubscription:!1,discord:d.discord,error:!1}},created:function(){var e=this;setInterval((function(){e.isSubscription=p.accountManager.subscription}),1e3)},watch:{text:function(){this.text.length>50?this.error="Attention: Maximum string length 50 characters":this.error=!1}},methods:{submit:function(){this.error||this.$emit("submit",this.text)}}};n("b095");const Ae=h()(_e,[["render",Re],["__scopeId","data-v-54322902"]]);var Se=Ae,Me={components:{Form:Se},data:function(){return{result:null,error:null,unsubscribe:null,loader:!1}},unmounted:function(){this.unsubscribe&&this.unsubscribe()},methods:{send:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.error="",t.result="",t.loader=!0,n.prev=3,r=p.datalog.write(JSON.stringify({blackmirror:e})),n.next=7,p.accountManager.signAndSend(r);case 7:c=n.sent,t.result="".concat(c.blockNumber,"-").concat(c.txIndex),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](3),t.error=n.t0.message;case 14:t.loader=!1;case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()}}};n("0819");const Te=h()(Me,[["render",he],["__scopeId","data-v-0ef99453"]]);var Pe=Te,Ce={components:{Video:z,Account:ie,Sender:Pe},data:function(){return{isReady:!1,discord:d.discord}},created:function(){var e=this;p.onReady((function(){e.isReady=!0}))}};const Le=h()(Ce,[["render",J]]);var Ie=Le,Ue={class:"layout"},De={key:1};function Je(e,t,n,c,a,o){var s=Object(r["y"])("Users",!0);return Object(r["r"])(),Object(r["f"])("section",null,[Object(r["g"])("div",Ue,[a.isReady?(Object(r["r"])(),Object(r["d"])(s,{key:0})):(Object(r["r"])(),Object(r["f"])("div",De,"..."))])])}var Ve={key:0},We={key:1};function Ne(e,t,n,c,a,o){return a.isLoader?(Object(r["r"])(),Object(r["f"])("div",We,"...")):(Object(r["r"])(),Object(r["f"])("ul",Ve,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.devices,(function(e,t){return Object(r["r"])(),Object(r["f"])("li",{key:t},Object(r["A"])(e),1)})),128))]))}var Ye=n("b85c"),Fe={data:function(){return{devices:[],isLoader:!0}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,o,s,i,u,b,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoader=!0,n=[],t.next=4,p.rws.getDevices(d.subscription);case 4:if(r=t.sent,r.isEmpty){t.next=49;break}c=r.toArray().map((function(e){return e.toString()})),a=Object(Ye["a"])(c),t.prev=8,a.s();case 10:if((o=a.n()).done){t.next=41;break}return s=o.value,t.next=14,p.datalog.read(s);case 14:i=t.sent,u=Object(Ye["a"])(i),t.prev=16,u.s();case 18:if((b=u.n()).done){t.next=31;break}if(l=b.value,t.prev=20,f=JSON.parse(l[1].toHuman()),!f.blackmirror||n.includes(s)){t.next=25;break}return n.push(s),t.abrupt("break",31);case 25:t.next=29;break;case 27:t.prev=27,t.t0=t["catch"](20);case 29:t.next=18;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](16),u.e(t.t1);case 36:return t.prev=36,u.f(),t.finish(36);case 39:t.next=10;break;case 41:t.next=46;break;case 43:t.prev=43,t.t2=t["catch"](8),a.e(t.t2);case 46:return t.prev=46,a.f(),t.finish(46);case 49:e.devices=n,e.isLoader=!1;case 51:case"end":return t.stop()}}),t,null,[[8,43,46,49],[16,33,36,39],[20,27]])})))()}}};const ze=h()(Fe,[["render",Ne]]);var Ge=ze,qe={components:{Users:Ge},data:function(){return{isReady:!1}},created:function(){var e=this;p.onReady((function(){e.isReady=!0}))}};const Ee=h()(qe,[["render",Je]]);var He=Ee,Be=Object(v["a"])({history:Object(v["b"])(),routes:[{path:"/",name:"main",component:Ie},{path:"/users",name:"users",component:He}]}),Qe=Be;Object(r["c"])(m).use(Qe).mount("#app")},"58fb":function(e,t,n){},b095:function(e,t,n){"use strict";n("d567")},b7cc:function(e,t,n){"use strict";n("f997")},bec8:function(e,t,n){},d567:function(e,t,n){},f997:function(e,t,n){}});
//# sourceMappingURL=app.1d00e348.js.map