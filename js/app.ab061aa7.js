(function(e){function t(t){for(var c,a,s=t[0],u=t[1],i=t[2],b=0,d=[];b<s.length;b++)a=s[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(c=!1)}c&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},r={app:0},o=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"040a":function(e,t,n){"use strict";n("7c9b")},1:function(e,t,n){e.exports=n("56d7")},1147:function(e,t,n){},2:function(e,t){},3:function(e,t){},"3c33":function(e,t,n){"use strict";n("8031")},4:function(e,t){},"40fd":function(e,t,n){"use strict";n("1147")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={class:"app"},o=Object(c["g"])("div",{class:"app-title"},[Object(c["g"])("div",{class:"layout"},[Object(c["g"])("h1",null,[Object(c["h"])(" Try it out dapp > "),Object(c["g"])("a",{href:"https://robonomics.academy/",target:"_blank"},"Online Robonomics school 2022")])])],-1);function a(e,t,n,a,s,u){var i=Object(c["y"])("router-view");return Object(c["r"])(),Object(c["f"])("div",r,[o,Object(c["i"])(i)])}var s=n("1da1"),u=(n("96cf"),n("fe43")),i=n.n(u),l=n("e79d"),b=n("0b67"),d={endpoint:"wss://kusama.rpc.robonomics.network/",isDevelopmentAccounts:!1,subscription:"4GgRRojuoQwKCZP9wkB69ZxJY4JprmHtpzEzqJLjnqu4jk1r",stream:"https://www.youtube.com/embed/z4JHrwdhlAQ?autoplay=1&mute=1&controls=0",discord:"https://discord.com/invite/5UWNGNaAUf"},f=new l["Robonomics"]({endpoint:d.endpoint});f.setAccountManager(new i.a(b["a"]));var p=f,j={name:"App",created:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.run();case 2:return e.next=4,i.a.initPlugin(p.accountManager.keyring,{isDevelopment:d.isDevelopmentAccounts});case 4:case"end":return e.stop()}}),e)})))()}},O=(n("40fd"),n("6b0d")),h=n.n(O);const g=h()(j,[["render",a]]);var m=g,v=n("6c02"),y={class:"dark"},w={class:"layout"},k=Object(c["g"])("h2",{class:"text-typing"},"Welcome to black mirror",-1),x=Object(c["g"])("p",{class:"animate-show-up animate-show-up-1"}," This decentralized application made for students of Robonomics winter school 2022. It shows you that decentralized cloud over blockchain already works. ",-1),R=Object(c["g"])("li",{class:"animate-show-up animate-show-up-2"},[Object(c["h"])(" Create or activate your Polkadot account in "),Object(c["g"])("a",{href:"https://polkadot.js.org/extension/",target:"_blank"},"Polkadot.js extension")],-1),_={class:"animate-show-up animate-show-up-3"},S=Object(c["h"])(" Ask "),A=["href"],M=Object(c["h"])(" to add your account to the Learning Winter School 2022 subscription. "),T=Object(c["g"])("li",{class:"animate-show-up animate-show-up-4"}," Type here your text message, sign and send it to our retro TV ",-1),P={class:"animate-show-up animate-show-up-5"},I=Object(c["h"])(" Make sure your transaction with datalog succesfully "),J=Object(c["h"])("sent"),U=Object(c["g"])("li",{class:"animate-show-up animate-show-up-6"}," Watch QR, it should change ",-1),C={class:"layout"},D={key:1};function V(e,t,n,r,o,a){var s=Object(c["y"])("Video"),u=Object(c["y"])("router-link"),i=Object(c["y"])("Account"),l=Object(c["y"])("Sender");return Object(c["r"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("section",y,[Object(c["g"])("div",w,[Object(c["i"])(s,{class:"block"}),k,x,Object(c["g"])("ol",null,[R,Object(c["g"])("li",_,[S,Object(c["g"])("a",{href:o.discord,target:"_blank"},"in Discord",8,A),M]),T,Object(c["g"])("li",P,[I,Object(c["i"])(u,{to:{name:"users"},target:"_blank"},{default:Object(c["F"])((function(){return[J]})),_:1})]),U])])]),Object(c["g"])("section",null,[Object(c["g"])("div",C,[o.isReady?(Object(c["r"])(),Object(c["f"])(c["a"],{key:0},[Object(c["i"])(i,{class:"block"}),Object(c["i"])(l)],64)):(Object(c["r"])(),Object(c["f"])("div",D,"..."))])])],64)}var L={class:"videoWrapper"},W=["src"];function Y(e,t,n,r,o,a){return Object(c["r"])(),Object(c["f"])("div",L,[Object(c["g"])("iframe",{width:"100%",height:"450",src:o.src,title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,8,W)])}var z={data:function(){return{src:d.stream}}};n("040a");const N=h()(z,[["render",Y],["__scopeId","data-v-bfe0cf30"]]);var F=N,G=(n("b0c0"),function(e){return Object(c["u"])("data-v-527e7092"),e=e(),Object(c["s"])(),e}),H=G((function(){return Object(c["g"])("h3",null,"Your account",-1)})),q=G((function(){return Object(c["g"])("p",null,[Object(c["g"])("i",null,"[Robonomics parachain format]")],-1)})),Q=["value"],B={key:1},E={class:"account"},Z=G((function(){return Object(c["g"])("br",null,null,-1)})),K=G((function(){return Object(c["g"])("span",{class:"copy"},"Copy address",-1)})),$=G((function(){return Object(c["g"])("span",{class:"copied"},"Address copied!",-1)})),X=[K,$],ee={key:2},te=Object(c["h"])("Create or activate your account in "),ne=G((function(){return Object(c["g"])("a",{href:"https://polkadot.js.org/extension/",target:"_blank"},"Polkadot.js extension",-1)})),ce=[te,ne];function re(e,t,n,r,o,a){return Object(c["r"])(),Object(c["f"])("section",null,[H,q,o.accounts.length>1?Object(c["G"])((Object(c["r"])(),Object(c["f"])("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.account=e})},[(Object(c["r"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(o.accounts,(function(e,t){return Object(c["r"])(),Object(c["f"])("option",{key:t,value:e.address},Object(c["A"])(e.meta.isTesting?"dev":"")+" "+Object(c["A"])(e.meta.name),9,Q)})),128))],512)),[[c["C"],o.account]]):Object(c["e"])("",!0),o.accounts.length>0?(Object(c["r"])(),Object(c["f"])("p",B,[Object(c["g"])("b",E,Object(c["A"])(o.account),1),Z,Object(c["g"])("a",{class:"copyLink",href:"javascript:;",onClick:t[1]||(t[1]=Object(c["H"])((function(e){return a.clipboard(o.account,e)}),["prevent"]))},X)])):Object(c["e"])("",!0),0===o.accounts.length?(Object(c["r"])(),Object(c["f"])("p",ee,ce)):Object(c["e"])("",!0)])}n("caad"),n("2532");var oe={data:function(){return{account:null,accounts:[],devices:[]}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p.accountManager.onReady((function(){e.accounts=p.accountManager.getAccounts(),e.accounts.length&&(e.account=e.accounts[0].address)}));case 1:case"end":return t.stop()}}),t)})))()},computed:{isRws:function(){return!!this.devices.includes(this.account)}},watch:{account:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.accountManager.selectAccountByAddress(e);case 2:case"end":return t.stop()}}),t)})))()},isRws:function(){this.isRws?p.accountManager.useSubscription(d.subscription):p.accountManager.useSubscription(!1)}},methods:{clipboard:function(e,t){navigator.clipboard.writeText(e).then((function(){t.target.closest("a").classList.add("on"),setTimeout((function(){t.target.closest("a").classList.remove("on")}),5e3)}))}}};n("3c33");const ae=h()(oe,[["render",re],["__scopeId","data-v-527e7092"]]);var se=ae,ue=function(e){return Object(c["u"])("data-v-dcef174e"),e=e(),Object(c["s"])(),e},ie=ue((function(){return Object(c["g"])("h3",null,"Your message to the device",-1)})),le=ue((function(){return Object(c["g"])("p",null,[Object(c["g"])("i",null,"Test Robonomics IoT subscription: type here your text, send and view it on device")],-1)})),be={key:0,class:"msg"},de=ue((function(){return Object(c["g"])("h4",null,"Your message has been sent",-1)})),fe=["href"],pe=Object(c["h"])("View list of succesfully written accounts"),je={key:1};function Oe(e,t,n,r,o,a){var s=Object(c["y"])("Form"),u=Object(c["y"])("router-link");return Object(c["r"])(),Object(c["f"])("div",null,[ie,le,Object(c["i"])(s,{onSubmit:a.send},null,8,["onSubmit"]),o.result?(Object(c["r"])(),Object(c["f"])("div",be,[de,Object(c["g"])("ol",null,[Object(c["g"])("li",null,[Object(c["g"])("a",{href:"https://robonomics.subscan.io/extrinsic/".concat(o.result),target:"_blank"},"View tx explorer",8,fe)]),Object(c["g"])("li",null,[Object(c["i"])(u,{to:{name:"users"},target:"_blank"},{default:Object(c["F"])((function(){return[pe]})),_:1})])])])):Object(c["e"])("",!0),o.error?(Object(c["r"])(),Object(c["f"])("div",je,Object(c["A"])(o.error),1)):Object(c["e"])("",!0)])}n("e9c4"),n("99af");var he=["disabled"],ge={key:0,class:"tip"},me=Object(c["h"])(" You need IoT subscription for transaction fee. Ask in "),ve=["href"],ye=Object(c["h"])(" to add your account to the Learning Winter School 2022 subscription. ");function we(e,t,n,r,o,a){return Object(c["r"])(),Object(c["f"])("section",null,[Object(c["G"])(Object(c["g"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.text=e}),placeholder:"Type your message here",required:""},null,512),[[c["D"],o.text]]),Object(c["g"])("button",{onClick:t[1]||(t[1]=function(){return a.submit&&a.submit.apply(a,arguments)}),disabled:!o.isSubscription},"Sign and send",8,he),o.isSubscription?Object(c["e"])("",!0):(Object(c["r"])(),Object(c["f"])("div",ge,[me,Object(c["g"])("a",{href:o.discord,target:"_blank"},"Discord",8,ve),ye]))])}var ke={data:function(){return{text:"",isSubscription:!1,discord:d.discord}},created:function(){var e=this;setInterval((function(){e.isSubscription=p.accountManager.subscription}),1e3)},methods:{submit:function(){this.$emit("submit",this.text)}}};n("7a68");const xe=h()(ke,[["render",we],["__scopeId","data-v-d46edb56"]]);var Re=xe,_e={components:{Form:Re},data:function(){return{result:null,error:null,unsubscribe:null}},unmounted:function(){this.unsubscribe&&this.unsubscribe()},methods:{send:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.error="",t.result="",n.prev=2,c=p.datalog.write(JSON.stringify({blackmirror:e})),n.next=6,p.accountManager.signAndSend(c);case 6:r=n.sent,t.result="".concat(r.blockNumber,"-").concat(r.txIndex),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),t.error=n.t0.message;case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}};n("61da");const Se=h()(_e,[["render",Oe],["__scopeId","data-v-dcef174e"]]);var Ae=Se,Me={components:{Video:F,Account:se,Sender:Ae},data:function(){return{isReady:!1,discord:d.discord}},created:function(){var e=this;p.onReady((function(){e.isReady=!0}))}};const Te=h()(Me,[["render",V]]);var Pe=Te,Ie={class:"layout"},Je={key:1};function Ue(e,t,n,r,o,a){var s=Object(c["y"])("Users",!0);return Object(c["r"])(),Object(c["f"])("section",null,[Object(c["g"])("div",Ie,[o.isReady?(Object(c["r"])(),Object(c["d"])(s,{key:0})):(Object(c["r"])(),Object(c["f"])("div",Je,"..."))])])}function Ce(e,t,n,r,o,a){return Object(c["r"])(),Object(c["f"])("ul",null,[(Object(c["r"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(o.devices,(function(e,t){return Object(c["r"])(),Object(c["f"])("li",{key:t},Object(c["A"])(e),1)})),128))])}var De=n("b85c"),Ve=(n("d81d"),n("d3b7"),n("25f0"),{data:function(){return{devices:[]}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,c,r,o,a,s,u,i,l,b,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,p.rws.getDevices(d.subscription);case 3:if(c=t.sent,c.isEmpty){t.next=26;break}r=c.toArray().map((function(e){return e.toString()})),o=Object(De["a"])(r),t.prev=7,o.s();case 9:if((a=o.n()).done){t.next=18;break}return s=a.value,t.next=13,p.datalog.read(s);case 13:u=t.sent,i=Object(De["a"])(u);try{for(i.s();!(l=i.n()).done;){b=l.value;try{f=JSON.parse(b[1].toHuman()),f.blackmirror&&n.push(s)}catch(j){}}}catch(O){i.e(O)}finally{i.f()}case 16:t.next=9;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](7),o.e(t.t0);case 23:return t.prev=23,o.f(),t.finish(23);case 26:e.devices=n;case 27:case"end":return t.stop()}}),t,null,[[7,20,23,26]])})))()}}});const Le=h()(Ve,[["render",Ce]]);var We=Le,Ye={components:{Users:We},data:function(){return{isReady:!1}},created:function(){var e=this;p.onReady((function(){e.isReady=!0}))}};const ze=h()(Ye,[["render",Ue]]);var Ne=ze,Fe=Object(v["a"])({history:Object(v["b"])(),routes:[{path:"/",name:"main",component:Pe},{path:"/users",name:"users",component:Ne}]}),Ge=Fe;Object(c["c"])(m).use(Ge).mount("#app")},"61da":function(e,t,n){"use strict";n("8657")},"7a68":function(e,t,n){"use strict";n("a948")},"7c9b":function(e,t,n){},8031:function(e,t,n){},8657:function(e,t,n){},a948:function(e,t,n){}});
//# sourceMappingURL=app.ab061aa7.js.map