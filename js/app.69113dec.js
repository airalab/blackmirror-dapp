(function(e){function t(t){for(var c,i,a=t[0],s=t[1],u=t[2],b=0,d=[];b<a.length;b++)i=a[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(c=!1)}c&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},r={app:0},o=[];function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=s;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"03a9":function(e,t,n){"use strict";n("7c90")},1:function(e,t,n){e.exports=n("56d7")},2:function(e,t){},2467:function(e,t,n){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={class:"app"},o={class:"app-title"},i={class:"layout flex"},a={href:"https://robonomics.academy/",target:"_blank"},s=Object(c["h"])("option",{value:"en"},"English",-1),u=Object(c["h"])("option",{value:"ru"},"Русский",-1),l=[s,u];function b(e,t,n,s,u,b){var d=Object(c["D"])("router-view");return Object(c["w"])(),Object(c["g"])("div",r,[Object(c["h"])("div",o,[Object(c["h"])("div",i,[Object(c["h"])("h1",null,[Object(c["i"])(Object(c["F"])(e.$t("header.title"))+" > ",1),Object(c["h"])("a",a,Object(c["F"])(e.$t("header.link")),1)]),Object(c["M"])(Object(c["h"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.locale=e})},l,512),[[c["H"],u.locale]])])]),Object(c["j"])(d)])}var d=n("1da1"),p=(n("96cf"),n("fe43")),h=n.n(p),j=n("e79d"),O=n("0b67"),f={endpoint:"wss://kusama.rpc.robonomics.network/",isDevelopmentAccounts:!1,subscription:"4GgRRojuoQwKCZP9wkB69ZxJY4JprmHtpzEzqJLjnqu4jk1r",stream:"https://www.youtube.com/embed/live_stream?channel=UCrSiho1uB-1n6F8cZpCLhjQ&autoplay=1&mute=0&controls=0",discord:"https://discord.com/invite/5UWNGNaAUf"},m=new j["Robonomics"]({endpoint:f.endpoint});m.setAccountManager(new h.a(O["a"]));var v=m,k={name:"App",created:function(){return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.run();case 2:return e.next=4,h.a.initPlugin(v.accountManager.keyring,{isDevelopment:f.isDevelopmentAccounts});case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{locale:this.$i18n.locale}},watch:{locale:function(e){this.$i18n.locale=e,localStorage.setItem("locale",e)}}},g=(n("03a9"),n("6b0d")),w=n.n(g);const y=w()(k,[["render",b]]);var x=y,R=n("6c02"),S={class:"dark",id:"video"},_={class:"layout"},F={id:"video-sticky"},$={class:"video-sticky-title"},T={class:"dark"},L={class:"layout"},P={class:"text-typing"},A={class:"animate-show-up animate-show-up-1"},M={class:"animate-show-up animate-show-up-2"},D={href:"https://polkadot.js.org/extension/",target:"_blank"},V={class:"animate-show-up animate-show-up-3"},I=["href"],C={class:"animate-show-up animate-show-up-4"},Y={class:"animate-show-up animate-show-up-5"},U={class:"animate-show-up animate-show-up-6"},W={class:"layout"},z={key:1};function E(e,t,n,r,o,i){var a=Object(c["D"])("Video"),s=Object(c["D"])("i18n-t"),u=Object(c["D"])("router-link"),l=Object(c["D"])("Account"),b=Object(c["D"])("Sender");return Object(c["w"])(),Object(c["g"])("div",null,[Object(c["h"])("section",S,[Object(c["h"])("div",_,[Object(c["j"])(a,{class:"block"})])]),Object(c["M"])(Object(c["h"])("section",F,[Object(c["h"])("div",$,[Object(c["h"])("span",null,Object(c["F"])(e.$t("main.live")),1),Object(c["h"])("button",{class:"video-sticky-unstick","aria-label":"Close popup",onClick:t[0]||(t[0]=function(e){return i.closePopupVideo()})}," x ")]),Object(c["j"])(a,{class:"block"})],512),[[c["J"],o.videoStick]]),Object(c["h"])("section",T,[Object(c["h"])("div",L,[Object(c["h"])("h2",P,Object(c["F"])(e.$t("main.welcome.title")),1),Object(c["h"])("p",A,Object(c["F"])(e.$t("main.welcome.text")),1),Object(c["h"])("ol",null,[Object(c["h"])("li",M,[Object(c["j"])(s,{keypath:"main.welcome.item1.text"},{link:Object(c["L"])((function(){return[Object(c["h"])("a",D,Object(c["F"])(e.$t("main.welcome.item1.link")),1)]})),_:1})]),Object(c["h"])("li",V,[Object(c["j"])(s,{keypath:"main.welcome.item2.text"},{link:Object(c["L"])((function(){return[Object(c["h"])("a",{href:o.discord,target:"_blank"},Object(c["F"])(e.$t("main.welcome.item2.link")),9,I)]})),_:1})]),Object(c["h"])("li",C,Object(c["F"])(e.$t("main.welcome.item3")),1),Object(c["h"])("li",Y,[Object(c["j"])(s,{keypath:"main.welcome.item4.text"},{link:Object(c["L"])((function(){return[Object(c["j"])(u,{to:{name:"users"},target:"_blank"},{default:Object(c["L"])((function(){return[Object(c["i"])(Object(c["F"])(e.$t("main.welcome.item4.link")),1)]})),_:1})]})),_:1})]),Object(c["h"])("li",U,Object(c["F"])(e.$t("main.welcome.item5")),1)])])]),Object(c["h"])("section",null,[Object(c["h"])("div",W,[o.isReady?(Object(c["w"])(),Object(c["g"])(c["a"],{key:0},[Object(c["j"])(l,{class:"block"}),Object(c["j"])(b)],64)):(Object(c["w"])(),Object(c["g"])("div",z,"..."))])])])}var J={class:"videoWrapper"},N=["src"];function B(e,t,n,r,o,i){return Object(c["w"])(),Object(c["g"])("div",J,[Object(c["h"])("iframe",{width:"100%",height:"450",src:o.src,title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,8,N)])}var q={data:function(){return{src:f.stream}}};n("59dc");const H=w()(q,[["render",B],["__scopeId","data-v-4b799bde"]]);var Q=H,Z=(n("b0c0"),function(e){return Object(c["z"])("data-v-5618fc0e"),e=e(),Object(c["x"])(),e}),G={style:{"margin-bottom":"0"}},K=["value"],X={key:1},ee={class:"account"},te=Z((function(){return Object(c["h"])("br",null,null,-1)})),ne={class:"copy"},ce={class:"copied"},re={key:2},oe={href:"https://polkadot.js.org/extension/",target:"_blank"};function ie(e,t,n,r,o,i){var a=Object(c["D"])("i18n-t");return Object(c["w"])(),Object(c["g"])("section",G,[Object(c["h"])("h3",null,Object(c["F"])(e.$t("account.title")),1),Object(c["h"])("p",null,[Object(c["h"])("i",null,Object(c["F"])(e.$t("account.notice")),1)]),Object(c["h"])("section",null,[o.accounts.length>1?Object(c["M"])((Object(c["w"])(),Object(c["g"])("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.account=e})},[(Object(c["w"])(!0),Object(c["g"])(c["a"],null,Object(c["C"])(o.accounts,(function(e,t){return Object(c["w"])(),Object(c["g"])("option",{key:t,value:e.address},Object(c["F"])(e.meta.isTesting?"dev":"")+" "+Object(c["F"])(e.meta.name),9,K)})),128))],512)),[[c["H"],o.account]]):Object(c["f"])("",!0),o.accounts.length>0?(Object(c["w"])(),Object(c["g"])("p",X,[Object(c["h"])("b",ee,Object(c["F"])(o.account),1),te,Object(c["h"])("a",{class:"copyLink",href:"javascript:;",onClick:t[1]||(t[1]=Object(c["N"])((function(e){return i.clipboard(o.account,e)}),["prevent"]))},[Object(c["h"])("span",ne,Object(c["F"])(e.$t("account.copy")),1),Object(c["h"])("span",ce,Object(c["F"])(e.$t("account.copied")),1)])])):Object(c["f"])("",!0),0===o.accounts.length?(Object(c["w"])(),Object(c["g"])("p",re,[Object(c["j"])(a,{keypath:"account.create.text"},{link:Object(c["L"])((function(){return[Object(c["h"])("a",oe,Object(c["F"])(e.$t("account.create.link")),1)]})),_:1})])):Object(c["f"])("",!0)])])}n("d81d"),n("d3b7"),n("25f0"),n("caad"),n("2532");var ae={data:function(){return{account:null,accounts:[],devices:[]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.rws.getDevices(f.subscription);case 2:n=t.sent,n.isEmpty||(e.devices=n.toArray().map((function(e){return e.toString()}))),v.accountManager.onReady((function(){e.accounts=v.accountManager.getAccounts(),e.accounts.length&&(e.account=e.accounts[0].address)}));case 5:case"end":return t.stop()}}),t)})))()},computed:{isRws:function(){return!!this.devices.includes(this.account)}},watch:{account:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.accountManager.selectAccountByAddress(e);case 2:case"end":return t.stop()}}),t)})))()},isRws:function(){this.isRws?v.accountManager.useSubscription(f.subscription):v.accountManager.useSubscription(!1)}},methods:{clipboard:function(e,t){navigator.clipboard.writeText(e).then((function(){t.target.closest("a").classList.add("on"),setTimeout((function(){t.target.closest("a").classList.remove("on")}),5e3)}))}}};n("ae7b");const se=w()(ae,[["render",ie],["__scopeId","data-v-5618fc0e"]]);var ue=se,le={key:0,class:"msg"},be=["href"],de={key:1};function pe(e,t,n,r,o,i){var a=Object(c["D"])("Form"),s=Object(c["D"])("router-link");return Object(c["w"])(),Object(c["g"])("div",null,[Object(c["h"])("h3",null,Object(c["F"])(e.$t("sender.title")),1),Object(c["h"])("p",null,[Object(c["h"])("i",null,Object(c["F"])(e.$t("sender.notice")),1)]),Object(c["j"])(a,{onSubmit:i.send,loader:o.loader},null,8,["onSubmit","loader"]),o.result?(Object(c["w"])(),Object(c["g"])("div",le,[Object(c["h"])("h4",null,Object(c["F"])(e.$t("sender.subtitle")),1),Object(c["h"])("ol",null,[Object(c["h"])("li",null,[Object(c["h"])("a",{href:"https://robonomics.subscan.io/extrinsic/".concat(o.result),target:"_blank"},Object(c["F"])(e.$t("sender.explorer")),9,be)]),Object(c["h"])("li",null,[Object(c["j"])(s,{to:{name:"users"},target:"_blank"},{default:Object(c["L"])((function(){return[Object(c["i"])(Object(c["F"])(e.$t("sender.succesfully")),1)]})),_:1})])])])):Object(c["f"])("",!0),o.error?(Object(c["w"])(),Object(c["g"])("div",de,Object(c["F"])(o.error),1)):Object(c["f"])("",!0)])}n("e9c4"),n("99af");var he=["placeholder"],je={key:0,disabled:""},Oe=["disabled"],fe={key:2,class:"error"},me={key:3,class:"tip"},ve=["href"];function ke(e,t,n,r,o,i){var a=Object(c["D"])("i18n-t");return Object(c["w"])(),Object(c["g"])("section",null,[Object(c["M"])(Object(c["h"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.text=e}),placeholder:e.$t("form.placeholder"),required:"",maxlength:"50"},null,8,he),[[c["I"],o.text]]),n.loader?(Object(c["w"])(),Object(c["g"])("button",je,"...")):(Object(c["w"])(),Object(c["g"])("button",{key:1,onClick:t[1]||(t[1]=function(){return i.submit&&i.submit.apply(i,arguments)}),disabled:!o.isSubscription||o.error},Object(c["F"])(e.$t("form.sign")),9,Oe)),o.error?(Object(c["w"])(),Object(c["g"])("div",fe,Object(c["F"])(o.error),1)):Object(c["f"])("",!0),o.isSubscription?Object(c["f"])("",!0):(Object(c["w"])(),Object(c["g"])("div",me,[Object(c["j"])(a,{keypath:"form.subscription.text"},{link:Object(c["L"])((function(){return[Object(c["h"])("a",{href:o.discord,target:"_blank"},Object(c["F"])(e.$t("form.subscription.link")),9,ve)]})),_:1})]))])}var ge={props:["loader"],data:function(){return{text:"",isSubscription:!1,discord:f.discord,error:!1}},created:function(){var e=this;setInterval((function(){e.isSubscription=v.accountManager.subscription}),1e3)},watch:{text:function(){this.text.length>50?this.error=this.$t("form.error"):this.error=!1}},methods:{submit:function(){this.error||this.$emit("submit",this.text)}}};n("8be3");const we=w()(ge,[["render",ke],["__scopeId","data-v-700256e9"]]);var ye=we,xe={components:{Form:ye},data:function(){return{result:null,error:null,unsubscribe:null,loader:!1}},unmounted:function(){this.unsubscribe&&this.unsubscribe()},methods:{send:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.error="",t.result="",t.loader=!0,n.prev=3,c=v.datalog.write(JSON.stringify({blackmirror:e})),n.next=7,v.accountManager.signAndSend(c);case 7:r=n.sent,t.result="".concat(r.blockNumber,"-").concat(r.txIndex),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](3),t.error=n.t0.message;case 14:t.loader=!1;case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()}}};n("5881");const Re=w()(xe,[["render",pe],["__scopeId","data-v-77bf7449"]]);var Se=Re,_e={components:{Video:Q,Account:ue,Sender:Se},data:function(){return{isReady:!1,discord:f.discord,videoStick:!1}},methods:{stickPopupVideo:function(){var e,t=document.querySelector("#video"),n=this;window.clearTimeout(e),e=setTimeout((function(){n.videoStick=window.pageYOffset-t.offsetTop>800}),66)},closePopupVideo:function(){this.videoStick=!1,window.removeEventListener("scroll",this.stickPopupVideo),window.removeEventListener("resize",this.stickPopupVideo)}},created:function(){var e=this;v.onReady((function(){e.isReady=!0}))},mounted:function(){window.addEventListener("scroll",this.stickPopupVideo),window.removeEventListener("resize",this.stickPopupVideo)}};n("e477");const Fe=w()(_e,[["render",E],["__scopeId","data-v-0005add8"]]);var $e=Fe,Te={class:"layout"},Le={key:1};function Pe(e,t,n,r,o,i){var a=Object(c["D"])("Users",!0);return Object(c["w"])(),Object(c["g"])("section",null,[Object(c["h"])("div",Te,[o.isReady?(Object(c["w"])(),Object(c["e"])(a,{key:0})):(Object(c["w"])(),Object(c["g"])("div",Le,"..."))])])}var Ae={key:0},Me={key:1};function De(e,t,n,r,o,i){return o.isLoader?(Object(c["w"])(),Object(c["g"])("div",Me,"...")):(Object(c["w"])(),Object(c["g"])("ul",Ae,[(Object(c["w"])(!0),Object(c["g"])(c["a"],null,Object(c["C"])(o.devices,(function(e,t){return Object(c["w"])(),Object(c["g"])("li",{key:t},Object(c["F"])(e),1)})),128))]))}var Ve=n("b85c"),Ie=n("075f"),Ce={data:function(){return{devices:[],isLoader:!0}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,c,r,o,i,a,s,u,l,b,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoader=!0,n=[],t.next=4,v.rws.getDevices(f.subscription);case 4:if(c=t.sent,c.isEmpty){t.next=49;break}r=c.toArray().map((function(e){return e.toString()})),o=Object(Ve["a"])(r),t.prev=8,o.s();case 10:if((i=o.n()).done){t.next=41;break}return a=i.value,t.next=14,v.datalog.read(a);case 14:s=t.sent,u=Object(Ve["a"])(s),t.prev=16,u.s();case 18:if((l=u.n()).done){t.next=31;break}if(b=l.value,t.prev=20,d=JSON.parse(Object(Ie["a"])(b[1].toHex())),!d.blackmirror||n.includes(a)){t.next=25;break}return n.push(a),t.abrupt("break",31);case 25:t.next=29;break;case 27:t.prev=27,t.t0=t["catch"](20);case 29:t.next=18;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](16),u.e(t.t1);case 36:return t.prev=36,u.f(),t.finish(36);case 39:t.next=10;break;case 41:t.next=46;break;case 43:t.prev=43,t.t2=t["catch"](8),o.e(t.t2);case 46:return t.prev=46,o.f(),t.finish(46);case 49:e.devices=n,e.isLoader=!1;case 51:case"end":return t.stop()}}),t,null,[[8,43,46,49],[16,33,36,39],[20,27]])})))()}}};const Ye=w()(Ce,[["render",De]]);var Ue=Ye,We={components:{Users:Ue},data:function(){return{isReady:!1}},created:function(){var e=this;v.onReady((function(){e.isReady=!0}))}};const ze=w()(We,[["render",Pe]]);var Ee=ze,Je=Object(R["a"])({history:Object(R["b"])(),routes:[{path:"/",name:"main",component:$e},{path:"/users",name:"users",component:Ee}]}),Ne=Je,Be=n("47e2"),qe={en:{header:{title:"Try it out dapp",link:"Online Robonomics school 2022"},main:{live:"Black mirror live",welcome:{title:"Welcome to black mirror",text:"This decentralized application made for students of Robonomics winter school 2022. It shows you that decentralized cloud over blockchain already works.",item1:{text:"Create or activate your Polkadot account in {link}",link:"Polkadot.js extension"},item2:{text:"Ask {link} to add your account to the Learning Winter School 2022 subscription.",link:"in Discord"},item3:"Type here your text message, sign and send it to our retro TV",item4:{text:"Make sure your transaction with datalog succesfully {link}",link:"sent"},item5:"Watch QR, it should change"}},account:{title:"1. Your account",notice:"[Robonomics parachain format]",copy:"Copy address",copied:"Address copied!",create:{text:"Create or activate your account in {link}",link:"Polkadot.js extension"}},sender:{title:"2. Your message to the device",notice:"[Test Robonomics IoT subscription: type here your text, send and view it on device]",subtitle:"Your message has been sent",explorer:"View tx explorer",succesfully:"View list of succesfully written accounts"},form:{placeholder:"Type your message here, 50 characters max",sign:"Sign and send",subscription:{text:"You need IoT subscription for transaction fee. Ask in {link} to add your account to the Learning Winter School 2022 subscription.",link:"Discord"},error:"Attention: Maximum string length 50 characters"}},ru:{header:{title:"Try it out dapp",link:"Online Robonomics school 2022"},main:{live:"Black mirror live",welcome:{title:"Welcome to black mirror",text:"This decentralized application made for students of Robonomics winter school 2022. It shows you that decentralized cloud over blockchain already works.",item1:{text:"Create or activate your Polkadot account in {link}",link:"Polkadot.js extension"},item2:{text:"Ask {link} to add your account to the Learning Winter School 2022 subscription.",link:"in Discord"},item3:"Type here your text message, sign and send it to our retro TV",item4:{text:"Make sure your transaction with datalog succesfully {link}",link:"sent"},item5:"Watch QR, it should change"}},account:{title:"1. Your account",notice:"[Robonomics parachain format]",copy:"Copy address",copied:"Address copied!",create:{text:"Create or activate your account in {link}",link:"Polkadot.js extension"}},sender:{title:"2. Your message to the device",notice:"[Test Robonomics IoT subscription: type here your text, send and view it on device]",subtitle:"Your message has been sent",explorer:"View tx explorer",succesfully:"View list of succesfully written accounts"},form:{placeholder:"Type your message here, 50 characters max",sign:"Sign and send",subscription:{text:"You need IoT subscription for transaction fee. Ask in {link} to add your account to the Learning Winter School 2022 subscription.",link:"Discord"},error:"Attention: Maximum string length 50 characters"}}},He=Object(c["d"])(x);He.use(Ne);var Qe=Object(Be["a"])({locale:localStorage.getItem("locale")||"en",messages:qe});He.use(Qe),He.mount("#app")},5881:function(e,t,n){"use strict";n("2467")},"59dc":function(e,t,n){"use strict";n("d98d")},"5d57":function(e,t,n){},"7c90":function(e,t,n){},"861e":function(e,t,n){},"8be3":function(e,t,n){"use strict";n("5d57")},"9c32":function(e,t,n){},ae7b:function(e,t,n){"use strict";n("861e")},d98d:function(e,t,n){},e477:function(e,t,n){"use strict";n("9c32")}});
//# sourceMappingURL=app.69113dec.js.map